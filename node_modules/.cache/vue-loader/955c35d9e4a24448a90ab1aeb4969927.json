{"remainingRequest":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BL\\vue-bilibili-master\\src\\components\\article\\comment.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\BL\\vue-bilibili-master\\src\\components\\article\\comment.vue","mtime":1593351739000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbW1lbnRQYXJlbnQgewogIHBhZGRpbmc6IDIuNzc4dncgMi43Nzh2dzsKICA+IGRpdiB7CiAgICBib3JkZXItYm90dG9tOiAwLjI3OHZ3IHNvbGlkICNlN2U3ZTc7CiAgfQogIC5jb21tZW50SXRlbSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgbWFyZ2luOiAyLjc3OHZ3IDA7CiAgICAudXNlckltZyB7CiAgICAgIG1hcmdpbi1yaWdodDogMi43Nzh2dzsKICAgICAgaW1nIHsKICAgICAgICB3aWR0aDogOS43MjJ2dzsKICAgICAgICBoZWlnaHQ6IDkuNzIydnc7CiAgICAgIH0KICAgIH0KICAgIC5jb21tZW50Q29udGVudCB7CiAgICAgIGZsZXg6IDE7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgcCB7CiAgICAgICAgZm9udC1zaXplOiAzLjYxMXZ3OwogICAgICAgIGNvbG9yOiAjNTU1OwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgIG1hcmdpbi1ib3R0b206IDEuMzg5dnc7CiAgICAgIH0KICAgICAgZGl2IHsKICAgICAgICBmb250LXNpemU6IDMuNjExdnc7CiAgICAgIH0KICAgICAgLnB1Ymxpc2hzewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICByaWdodDogMDsKICAgICAgICBjb2xvcjogcmVkOwogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"comment.vue","sourceRoot":"src/components/article","sourcesContent":["<template>\n  <div class=\"commentParent\">\n    <div v-for=\"(item,index) in commentList\" :key=\"index\">\n      <div class=\"commentItem\">\n        <div class=\"userImg\">\n          <img v-if=\"item.userinfo && item.userinfo.user_img\" :src=\"item.userinfo.user_img\" alt />\n          <img v-else src=\"@/assets/default_img.jpg\" alt=\"\">\n        </div>\n        <div class=\"commentContent\">\n          <p>\n            <span v-if=\"item.userinfo\">{{item.userinfo.name}}</span>\n            <span v-else>此用户无姓名</span>\n            <span>{{item.comment_date}}</span>\n          </p>\n          <div>\n            {{item.comment_content}}\n            <span class=\"publishs\" @click=\"publishClick(item.comment_id)\">回复</span>\n          </div>\n        </div>\n      </div>\n     <div style=\"padding-left:8.333vw;\"><comment-item @PostPublish=\"publishClick\" :commentChild=\"item.child\"></comment-item></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport commentItem from \"./commentItem\";\nexport default {\n    \n  data() {\n      return {\n          commentList:null,\n      }\n  },\n  components: {\n    commentItem\n  },\n  methods: {\n    async commentData() {\n      const res = await this.$http.get(\"/comment/\" + this.$route.params.id);\n      if(res.data){\n        this.$emit('lengthselect',res.data.length)\n      }\n      this.commentList = this.changeCommentData(res.data)\n    },\n    changeCommentData(data) {\n      function fn(temp) {\n        let arr1 = [];\n        for (var i = 0; i < data.length; i++) {\n          if (data[i].parent_id == temp) {\n            arr1.push(data[i]);\n            data[i].child = fn(data[i].comment_id);\n          }\n        }\n        return arr1;\n      }\n       return fn(null);\n    },\n    publishClick(id) {\n     this.$emit('publishClick',id)\n    }\n  },\n  created() {\n    this.commentData();\n  }\n};\n</script>\n\n<style lang=\"less\">\n.commentParent {\n  padding: 2.778vw 2.778vw;\n  > div {\n    border-bottom: 0.278vw solid #e7e7e7;\n  }\n  .commentItem {\n    display: flex;\n    margin: 2.778vw 0;\n    .userImg {\n      margin-right: 2.778vw;\n      img {\n        width: 9.722vw;\n        height: 9.722vw;\n      }\n    }\n    .commentContent {\n      flex: 1;\n      position: relative;\n      p {\n        font-size: 3.611vw;\n        color: #555;\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 1.389vw;\n      }\n      div {\n        font-size: 3.611vw;\n      }\n      .publishs{\n        position: absolute;\n        right: 0;\n        color: red;\n      }\n    }\n  }\n}\n</style>"]}]}