{"remainingRequest":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BL\\vue-bilibili-master\\src\\views\\EditCategory.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\BL\\vue-bilibili-master\\src\\views\\EditCategory.vue","mtime":1593351739000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZCYXIgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9OYXZiYXIudnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG5ld0NhdDpbXSwKICAgICAgICAgICAgZGVsQ2F0OltdCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6ewogICAgICAgIE5hdkJhcgogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGFzeW5jIFNlbGVjdENhdGVnb3J5KCkgewogICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgnL2NhdGVnb3J5JykKICAgICAgICAgICAgdGhpcy5uZXdDYXQgPSByZXMuZGF0YQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlQ2F0ZWdvcnlDbGljayhpbmRleCkgewogICAgICAgICAgIGlmKHRoaXMubmV3Q2F0Lmxlbmd0aCA8IDQpIHsgICAKICAgICAgICAgICAgICB0aGlzLiRtc2cuZmFpbCgn5pyA5bCR5L+d55WZ5LiJ5Liq5qCP55uuJykKICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuZGVsQ2F0LnB1c2godGhpcy5uZXdDYXRbaW5kZXhdKQogICAgICAgICAgICB0aGlzLm5ld0NhdC5zcGxpY2UoaW5kZXgsMSkKICAgICAgICB9LAogICAgICAgIGRlbGV0ZUNhdGVnb3J5Q2xpY2soaW5kZXgpIHsKICAgICAgICAgICAgdGhpcy5uZXdDYXQucHVzaCh0aGlzLmRlbENhdFtpbmRleF0pCiAgICAgICAgICAgIHRoaXMuZGVsQ2F0LnNwbGljZShpbmRleCwxKQogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDp7CiAgICAgICAgbmV3Q2F0KCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbmV3Q2F0JyxKU09OLnN0cmluZ2lmeSh0aGlzLm5ld0NhdCkpCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZWxDYXQnLEpTT04uc3RyaW5naWZ5KHRoaXMuZGVsQ2F0KSkKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmV3Q2F0JykmJmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkZWxDYXQnKSkgewogICAgICAgICAgICB0aGlzLm5ld0NhdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25ld0NhdCcpKQogICAgICAgICAgICB0aGlzLmRlbENhdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RlbENhdCcpKQogICAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgIHRoaXMuU2VsZWN0Q2F0ZWdvcnkoKQogICAgfQp9Cg=="},{"version":3,"sources":["EditCategory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"EditCategory.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n      <nav-bar></nav-bar>\n     <van-divider dashed :style=\"{ color: '#1a73e8', borderColor: '#1a73e8', padding: '0 16px' }\">现有栏目</van-divider>\n        <div class=\"new-category newcategory\">\n            <p @click=\"handleCategoryClick(index)\" v-for=\"(item,index) in newCat\" :key=\"index\">{{item.title}}</p>\n        </div>\n     <van-divider dashed :style=\"{ color: '#ee0a24', borderColor: '#ee0a24', padding: '0 16px' }\">已删除栏目</van-divider>\n        <div class=\"new-category delcategory\">\n            <p @click=\"deleteCategoryClick(index)\" v-for=\"(item,index) in delCat\" :key=\"index\">{{item.title}}</p>\n        </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from '@/components/common/Navbar.vue'\nexport default {\n    data() {\n        return {\n            newCat:[],\n            delCat:[]\n        }\n    },\n    components:{\n        NavBar\n    },\n    methods:{\n        async SelectCategory() {\n            const res = await this.$http.get('/category')\n            this.newCat = res.data\n        },\n        handleCategoryClick(index) {\n           if(this.newCat.length < 4) {   \n              this.$msg.fail('最少保留三个栏目')\n              return\n           }\n            this.delCat.push(this.newCat[index])\n            this.newCat.splice(index,1)\n        },\n        deleteCategoryClick(index) {\n            this.newCat.push(this.delCat[index])\n            this.delCat.splice(index,1)\n        }\n    },\n    watch:{\n        newCat() {\n            localStorage.setItem('newCat',JSON.stringify(this.newCat))\n            localStorage.setItem('delCat',JSON.stringify(this.delCat))\n        }\n    },\n    created() {\n        if(localStorage.getItem('newCat')&&localStorage.getItem('delCat')) {\n            this.newCat = JSON.parse(localStorage.getItem('newCat'))\n            this.delCat = JSON.parse(localStorage.getItem('delCat'))\n            return\n        }\n\n        this.SelectCategory()\n    }\n}\n</script>\n\n<style lang=\"less\">\n.new-category{\n    padding: 0 2.778vw;\n    display: flex;\n    flex-wrap: wrap;\n   p{   \n        width: 20%;\n        text-align: center;\n        margin: 1.389vw 1.944vw;\n        padding: 1.944vw 0vw;\n   }\n}\n.newcategory{\n    p{\n        color:#1a73e8 ;\n        border:0.278vw solid #1a73e8;\n    }\n}\n.delcategory{\n    p{\n        color: #ee0a24;\n        border: 0.278vw solid #ee0a24;\n    }\n}\n</style>"]}]}