{"remainingRequest":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BL\\vue-bilibili-master\\src\\views\\Article.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\BL\\vue-bilibili-master\\src\\views\\Article.vue","mtime":1593351739000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmRldGFpbGluZm97CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIC52aWRlb3sKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICB2aWRlb3sKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgfQogICAgfQp9Ci5kZXRhaWxpbmZvVGV4dHsKICAgIHBhZGRpbmc6IDQuMTY3dnc7CiAgICBkaXY6bnRoLWNoaWxkKDEpIHsKICAgICAgICBzcGFuOm50aC1jaGlsZCgxKSB7CiAgICAgICAgICAgIHBhZGRpbmc6MCAyLjc3OHZ3OwogICAgICAgICAgICBjb2xvcjogI2ZiNzI5OTsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMi43Nzh2dzsKICAgICAgICB9CiAgICB9CiAgICBkaXY6bnRoLWNoaWxkKDIpIHsKICAgICAgICBwYWRkaW5nOiAyLjc3OHZ3IDIuNzc4dnc7CiAgICAgICAgc3BhbnsKICAgICAgICAgICAgY29sb3I6ICNhYWE7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMy4zMzN2dzsKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyLjc3OHZ3OwogICAgICAgIH0KICAgICAgICBzcGFuOm50aC1jaGlsZCgxKSB7CiAgICAgICAgICAgIGNvbG9yOiBibGFjazsKICAgICAgICAgICAgZm9udC1zaXplOiA0dnc7CiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6Mi43Nzh2dzsKICAgICAgICB9CiAgICB9CiAgICBkaXY6bnRoLWNoaWxkKDMpIHsKICAgICAgICBwYWRkaW5nOiAwIDIuNzc4dnc7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAKICAgICAgICBwewogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGNvbG9yOiAjNzU3NTc1OwogICAgICAgICAgICBzcGFuOm50aC1jaGlsZCgxKSB7CiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDNweDsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjFweDsKICAgICAgICAgICAgfQogICAgICAgICAgICBzcGFuOm50aC1jaGlsZCgyKSB7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLmFjdGl2ZUNvbG9yewogICAgICAgICAgICBjb2xvcjogI2ZiNzI5OTsKICAgICAgICB9CiAgICB9CiAgICAKfQoKLmRldGFpbHBhcmVudCB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LXdyYXA6IHdyYXA7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7CiAgLmRldGFpbGl0ZW0gewogICAgbWFyZ2luOiAxLjM4OXZ3IDA7CiAgICB3aWR0aDogNDUlOwogIH0KfQo="},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div v-if=\"model\">\n      <nav-bar></nav-bar> \n      <div class=\"detailinfo\">\n         <div class=\"video\">\n              <video controls=\"controls\" :src=\"model.content\"></video>\n         </div>\n         <div class=\"detailinfoText\">\n              <div>\n                  <span>{{model.category.title}}</span>\n                  <span>{{model.name}}</span>\n              </div>\n              <div>\n                  <span>{{model.userinfo.name}}</span>\n                  <span>146.4万次观看</span>\n                  <span>5281弹幕</span>\n                  <span>{{model.date}}</span>\n              </div>\n              <div>\n                  <p @click=\"collectionClick\" :class=\"{activeColor:collectionActive}\">\n                      <span class=\"icon-star-full\" ></span>\n                      <span>收藏</span>\n                  </p>\n                  <p @click=\"subscriptClick\" :class=\"{activeColor:subscritionActive}\">\n                      <span class=\"icon-bubble\"></span>\n                      <span>关注</span>\n                  </p>\n                  <p>\n                      <span class=\"icon-redo2\"></span>\n                      <span>分享</span>\n                  </p>\n              </div>\n         </div>\n          <div class=\"detailparent\">\n          <cover class=\"detailitem\" v-for=\"(item,index) in commendList\" :key=\"index\"  :detailitem=\"item\"/>\n      </div>\n      <comment-title :dataLength=\"lens\" @Postcomment=\"PostSuccess\" ref=\"commentIpt\"  />\n      <comment @lengthselect=\"len => lens = len\" ref=\"commentPulish\"  @publishClick=\"PostChildClick\" />\n          \n      </div>\n     \n  </div>\n</template>\n\n<script>\nimport NavBar from '@/components/common/Navbar.vue'\nimport cover from './cover'\nimport commentTitle from '@/components/article/commentTitle.vue'\nimport comment from '@/components/article/comment.vue'\nexport default {\n    data() {\n        return {\n            model:null,\n            commendList:null,\n            lens:null,\n            Postcom:{\n                comment_content:'',\n                comment_date:'',\n                parent_id:null,\n                article_id:null\n            },\n            collectionActive:null,\n            subscritionActive:null,\n           \n        }\n    },\n    components:{\n        NavBar,\n        cover,\n        commentTitle,\n        comment\n    },\n    methods:{\n        //获取文章信息\n        async articleitemData() {\n            const res = await this.$http.get('/article/' + this.$route.params.id)\n            this.model = res.data[0]\n            if(this.model) {\n                this.subscritionInit()\n            }\n        },\n        //获取推荐文章\n        async commendData() {\n            const res = await this.$http.get('/commend')\n            this.commendList = res.data\n        },\n        //发送评论\n        async PostSuccess(res) {\n            const date = new Date()\n            let m = date.getMonth() + 1\n            let d = date.getDate()\n            if(m < 10) {\n                m = '0' + m\n            }\n            if(d < 10) {\n                d = '0' + d\n            }\n            let str = `${m}-${d}`\n            this.Postcom.comment_content = res\n            this.Postcom.comment_date = str\n            this.Postcom.article_id = this.$route.params.id\n            const result = await this.$http.post('/comment_post/' + localStorage.getItem('id'),this.Postcom)\n            this.$refs.commentPulish.commentData()\n            this.Postcom.parent_id = null\n            if(result.status == 200) {\n                this.$msg.fail('评论发表成功')\n            }\n        },\n        //聚焦输入框\n        PostChildClick(id) {\n            this.Postcom.parent_id = id\n            this.$refs.commentIpt.focusIpt()\n        },\n        //收藏文章\n        async collectionClick() {\n           if(localStorage.getItem('token')){\n               const res = await this.$http.post('/collection/' + localStorage.getItem('id'),{article_id:this.$route.params.id})\n               if(res.data.msg == '收藏成功'){\n                   this.collectionActive = true\n               }else{\n                   this.collectionActive = false\n               }\n                this.$msg.fail(res.data.msg)\n           }\n        },\n        //进入页面获取是否收藏\n        async collectionInit() {\n            if(localStorage.getItem('token')){\n                const res = await this.$http.get('/collection/' + localStorage.getItem('id'),{\n                    params:{\n                        article_id:this.$route.params.id\n                    }\n                })\n            this.collectionActive = res.data.success\n            }\n        },\n        //点击关注发帖用户\n        async subscriptClick() {\n           if(localStorage.getItem('token')){\n               const res = await this.$http.post('/sub_scription/' + localStorage.getItem('id'),{sub_id:this.model.userid})\n               if(res.data.msg == '关注成功'){\n                   this.subscritionActive = true\n               }else{\n                   this.subscritionActive = false\n               }\n               this.$msg.fail(res.data.msg)\n               \n           }\n        },\n        //进入页面获取是否收藏\n        async subscritionInit() {\n            if(localStorage.getItem('token')){\n                const res = await this.$http.get('/sub_scription/' + localStorage.getItem('id'),{\n                    params:{\n                        sub_id:this.model.userid\n                    }\n                })\n            this.subscritionActive = res.data.success\n            }\n        }\n    },\n    created() {\n         this.articleitemData()\n         this.commendData()\n         this.collectionInit()\n    },\n    watch:{\n        $route() {\n            this.articleitemData()\n            this.commendData()\n            this.collectionInit()\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n.detailinfo{\n    background-color: white;\n    .video{\n        width: 100%;\n        video{\n            width: 100%;\n        }\n    }\n}\n.detailinfoText{\n    padding: 4.167vw;\n    div:nth-child(1) {\n        span:nth-child(1) {\n            padding:0 2.778vw;\n            color: #fb7299;\n            background-color: #f4f4f4;\n            border-radius: 2.778vw;\n        }\n    }\n    div:nth-child(2) {\n        padding: 2.778vw 2.778vw;\n        span{\n            color: #aaa;\n            font-size: 3.333vw;\n            margin-right: 2.778vw;\n        }\n        span:nth-child(1) {\n            color: black;\n            font-size: 4vw;\n            padding-right:2.778vw;\n        }\n    }\n    div:nth-child(3) {\n        padding: 0 2.778vw;\n        display: flex;\n        \n        p{\n            margin-right: 10px;\n            display: flex;\n            align-items: center;\n            color: #757575;\n            span:nth-child(1) {\n                margin-right: 3px;\n                font-size: 21px;\n            }\n            span:nth-child(2) {\n                font-size: 13px;\n            }\n        }\n        .activeColor{\n            color: #fb7299;\n        }\n    }\n    \n}\n\n.detailparent {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  .detailitem {\n    margin: 1.389vw 0;\n    width: 45%;\n  }\n}\n</style>"]}]}