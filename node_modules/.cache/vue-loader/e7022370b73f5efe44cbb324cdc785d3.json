{"remainingRequest":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BL\\vue-bilibili-master\\src\\components\\article\\commentTitle.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\BL\\vue-bilibili-master\\src\\components\\article\\commentTitle.vue","mtime":1593351739000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczpbJ2RhdGFMZW5ndGgnXSwKICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgICAgICBteXVzZXI6bnVsbCwKICAgICAgICAgICAgY29tY29udGVudDonJywKICAgICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbXlVc2VyaW5mbygpIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoIi91c2VyLyIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaWQiKSk7CiAgICAgIHRoaXMubXl1c2VyID0gcmVzLmRhdGFbMF07CiAgICB9LAogICAgY21tZW50UHVibGlzaCgpIHsKICAgICAgICBpZighdGhpcy5teXVzZXIgJiYgIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpJiYgIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpKXsKICAgICAgICAgIHRoaXMuJG1zZy5mYWlsKCfor7flhYjnmbvlvZUnKQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIHRoaXMuJGVtaXQoJ1Bvc3Rjb21tZW50Jyx0aGlzLmNvbWNvbnRlbnQpCiAgICAgICAgdGhpcy5jb21jb250ZW50ID0gJycKICAgIH0sCiAgICBmb2N1c0lwdCgpewogICAgIHRoaXMuJHJlZnMuUG9zdGlwdC5mb2N1cygpCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpKXsKICAgICAgICAgICAgdGhpcy5teVVzZXJpbmZvKCk7CiAgICAgICAgfQogIH0sCgp9Owo="},{"version":3,"sources":["commentTitle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"commentTitle.vue","sourceRoot":"src/components/article","sourcesContent":["<template>\n  <div class=\"comment\">\n      <p class=\"comment-title\">\n          <span>评论</span>\n          <span>({{dataLength}})</span>\n      </p>\n      <div class=\"commentMyinfo\">\n          <img :src=\"myuser.user_img\" alt=\"\" v-if=\"myuser\">\n          <img src=\"@/assets/default_img.jpg\" alt=\"\" v-else>\n          <input v-model=\"comcontent\" ref=\"Postipt\" type=\"text\" placeholder=\"说点什么吧\">\n          <button @click=\"cmmentPublish\">发表</button>\n      </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props:['dataLength'],\n  data() {\n      return {\n            myuser:null,\n            comcontent:'',\n      }\n  },\n  methods: {\n    async myUserinfo() {\n      const res = await this.$http.get(\"/user/\" + localStorage.getItem(\"id\"));\n      this.myuser = res.data[0];\n    },\n    cmmentPublish() {\n        if(!this.myuser && !localStorage.getItem('token')&& !localStorage.getItem('id')){\n          this.$msg.fail('请先登录')\n          return\n        }\n        this.$emit('Postcomment',this.comcontent)\n        this.comcontent = ''\n    },\n    focusIpt(){\n     this.$refs.Postipt.focus()\n    }\n  },\n  created() {\n        if(localStorage.getItem('token')){\n            this.myUserinfo();\n        }\n  },\n\n};\n</script>\n\n<style lang=\"less\">\n.comment{\n    padding: 8.333vw 2.778vw 0 2.7778vw;\n    .comment-title{\n        span:nth-child(2) {\n            color: #aaa;\n            margin-left: 2.778vw;\n        }\n    }\n    .commentMyinfo{\n      padding: 2.778vw 0;\n      display: flex;\n      img{\n        height: 7.944vw;\n        width: 7.944vw;\n        border-radius: 50%;\n      }\n      input{\n        outline: none;\n        border: 0;\n        background-color: #f4f4f4;\n        border-radius: 3.611vw;\n        font-size: 3.333vw;\n        padding: 0 5.556vw 0 4.167vw;\n        margin-left: 2.778vw;\n      }\n      button{\n        outline: none;\n        border: 0;\n        border-radius: 3.333vw;\n        background: #fb7299;\n        color: white;\n        font-size: 3.333vw;\n        padding: 0 4.167vw;\n      }\n    }\n}\n</style>"]}]}