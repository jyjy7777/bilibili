{"remainingRequest":"D:\\BL\\vue-bilibili-master\\node_modules\\babel-loader\\lib\\index.js!D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BL\\vue-bilibili-master\\src\\views\\Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\BL\\vue-bilibili-master\\src\\views\\Edit.vue","mtime":1593351739000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxCTFxcdnVlLWJpbGliaWxpLW1hc3Rlclxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBOYXZCYXIgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9OYXZiYXIudnVlJzsKaW1wb3J0IGVkaXRCYW5uZXIgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9lZGl0QmFubmVyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZWw6IHt9LAogICAgICBzaG93OiBmYWxzZSwKICAgICAgdGV4dHNob3c6IGZhbHNlLAogICAgICBnZW5kZXJzaG93OiBmYWxzZSwKICAgICAgY29udGVudDogJycsCiAgICAgIGFjdGlvbnM6IFt7CiAgICAgICAgbmFtZTogJ+eUtycsCiAgICAgICAgdmFsOiAxCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5aWzJywKICAgICAgICB2YWw6IDAKICAgICAgfV0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOYXZCYXI6IE5hdkJhciwKICAgIGVkaXRCYW5uZXI6IGVkaXRCYW5uZXIKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6L+b5YWl57uE5Lu26LCD5Y+W5pWw5o2u5riy5p+T6aG16Z2iCiAgICBzZWxlY3RVc2VyOiBmdW5jdGlvbiBzZWxlY3RVc2VyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRodHRwLmdldCgnL3VzZXIvJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLm1vZGVsID0gcmVzLmRhdGFbMF07CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZnRlclJlYWQ6IGZ1bmN0aW9uIGFmdGVyUmVhZChmaWxlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGZyb21kYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZyb21kYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmcm9tZGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5wb3N0KCcvdXBsb2FkJywgZnJvbWRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5tb2RlbC51c2VyX2ltZyA9IHJlcy5kYXRhLnVybDsKCiAgICAgICAgICAgICAgICBfdGhpczIuVXNlclVwZGF0ZSgpOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kcmVmcy5uYXZiYXIuTmF2SW5pdCgpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBVc2VyVXBkYXRlOiBmdW5jdGlvbiBVc2VyVXBkYXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGh0dHAucG9zdCgnL3VwZGF0ZS8nICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksIF90aGlzMy5tb2RlbCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczMuJG1zZy5mYWlsKCfkv67mlLnmiJDlip8nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY29uZmlybUNsaWNrOiBmdW5jdGlvbiBjb25maXJtQ2xpY2soKSB7CiAgICAgIHRoaXMubW9kZWwubmFtZSA9IHRoaXMuY29udGVudDsKICAgICAgdGhpcy5Vc2VyVXBkYXRlKCk7CiAgICAgIHRoaXMuY29udGVudCA9ICcnOwogICAgfSwKICAgIHRleHRhcmVhQ2xpY2s6IGZ1bmN0aW9uIHRleHRhcmVhQ2xpY2soKSB7CiAgICAgIHRoaXMubW9kZWwudXNlcl9kZXNjID0gdGhpcy5jb250ZW50OwogICAgICB0aGlzLlVzZXJVcGRhdGUoKTsKICAgICAgdGhpcy5jb250ZW50ID0gJyc7CiAgICB9LAogICAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KGRhdGEpIHsKICAgICAgdGhpcy5tb2RlbC5nZW5kZXIgPSBkYXRhLnZhbDsKICAgICAgdGhpcy5Vc2VyVXBkYXRlKCk7CiAgICAgIHRoaXMuZ2VuZGVyc2hvdyA9IGZhbHNlOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2VsZWN0VXNlcigpOwogIH0KfTs="},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,OAAA,MAAA,MAAA,gCAAA;AACA,OAAA,UAAA,MAAA,oCAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,UAAA,EAAA,KAJA;AAKA,MAAA,OAAA,EAAA,EALA;AAMA,MAAA,OAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,GAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,GAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAFA;AANA,KAAA;AAWA,GAbA;AAcA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,UAAA,EAAA;AAFA,GAdA;AAkBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,UAFA,wBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,WAAA,YAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KALA;AAMA,IAAA,SANA,qBAMA,IANA,EAMA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,QADA,GACA,IAAA,QAAA,EADA;AAEA,gBAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA;AAFA;AAAA,uBAGA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,EAAA,QAAA,CAHA;;AAAA;AAGA,gBAAA,GAHA;AAIA,gBAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,GAAA;;AACA,gBAAA,MAAA,CAAA,UAAA;;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KAbA;AAcA,IAAA,UAdA,wBAcA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,aAAA,YAAA,CAAA,OAAA,CAAA,IAAA,CAAA,EAAA,MAAA,CAAA,KAAA,CADA;;AAAA;AACA,gBAAA,GADA;;AAEA,oBAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA;AACA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,KAnBA;AAoBA,IAAA,YApBA,0BAoBA;AACA,WAAA,KAAA,CAAA,IAAA,GAAA,KAAA,OAAA;AACA,WAAA,UAAA;AACA,WAAA,OAAA,GAAA,EAAA;AACA,KAxBA;AAyBA,IAAA,aAzBA,2BAyBA;AACA,WAAA,KAAA,CAAA,SAAA,GAAA,KAAA,OAAA;AACA,WAAA,UAAA;AACA,WAAA,OAAA,GAAA,EAAA;AACA,KA7BA;AA8BA,IAAA,QA9BA,oBA8BA,IA9BA,EA8BA;AACA,WAAA,KAAA,CAAA,MAAA,GAAA,IAAA,CAAA,GAAA;AACA,WAAA,UAAA;AACA,WAAA,UAAA,GAAA,KAAA;AACA;AAlCA,GAlBA;AAsDA,EAAA,OAtDA,qBAsDA;AACA,SAAA,UAAA;AACA;AAxDA,CAAA","sourcesContent":["<template>\n  <div v-if=\"model\" class=\"editViews\">\n      <div style=\"margin-bottom:2.778vw;\"><nav-bar ref=\"navbar\"></nav-bar></div>\n      <div class=\"uploadfile\">\n          <div class=\"uploadimg\"><van-uploader preview-size=\"100vw\" :after-read=\"afterRead\" /></div>\n          <edit-banner left=\"头像\">\n              <img :src=\"model.user_img\"  slot=\"right\" alt=\"\" v-if=\"model.user_img\">\n              <img src=\"@/assets/default_img.jpg\"  slot=\"right\" alt=\"\" v-else>\n          </edit-banner>\n      </div>\n         \n      <edit-banner left=\"昵称\" @bannerClick=\"show = true\">\n          <a href=\"javascript:;\" slot=\"right\">{{model.name}}</a>\n      </edit-banner>\n\n      <edit-banner left=\"账号\">\n          <a href=\"javascript:;\" slot=\"right\">{{model.username}}</a>\n      </edit-banner>\n\n      <edit-banner left=\"性别\" @bannerClick=\"gendershow = true\">\n           <a href=\"javascript:;\" slot=\"right\">{{model.gender ? '男' : '女'}}</a>\n      </edit-banner>\n\n      <edit-banner left=\"个签\" @bannerClick=\"textshow = true\"></edit-banner>\n\n      <div class=\"editback\" @click=\"$router.back()\">返回个人中心</div>\n      \n\n      <van-dialog v-model=\"show\" \n      title=\"昵称\" \n      show-cancel-button \n      @confirm=\"confirmClick\"\n      @cancel=\"content = ''\"\n      >\n          <van-field v-model=\"content\"  autofocus />\n      </van-dialog>\n\n\n      <van-dialog \n         v-model=\"textshow\"\n         title=\"个签\"\n         show-cancel-button\n         @confirm=\"textareaClick\"\n         @cancel=\"content = ''\"\n      >\n          <van-field v-model=\"content\" type=\"textarea\" autofocus />\n      </van-dialog>\n    \n\n       <van-action-sheet v-model=\"gendershow\" cancel-text=\"取消\" :actions=\"actions\" @select=\"onSelect\" />\n  </div>\n</template>\n\n<script>\nimport NavBar from '@/components/common/Navbar.vue'\nimport editBanner from '@/components/common/editBanner.vue'\nexport default {\n    data() {\n        return {\n            model:{},\n            show:false,\n            textshow:false,\n            gendershow:false,\n            content:'',\n            actions: [\n                { name: '男',val:1 },\n                { name: '女',val:0 },\n            ],\n        }\n    },\n    components:{\n        NavBar,\n        editBanner\n    },\n    methods:{\n        //进入组件调取数据渲染页面\n        async selectUser() {\n             const res =  await this.$http.get('/user/' + localStorage.getItem('id'))\n            this.model = res.data[0] \n        },\n       async afterRead(file) {\n           const fromdata = new FormData()\n           fromdata.append('file',file.file)\n           const res =  await this.$http.post('/upload',fromdata)\n           this.model.user_img = res.data.url\n           this.UserUpdate()\n           this.$refs.navbar.NavInit()\n       },\n       async UserUpdate() {\n           const res = await this.$http.post('/update/' + localStorage.getItem('id'),this.model)\n           if(res.data.code == 200){\n               this.$msg.fail('修改成功')\n           } \n       },\n       confirmClick() {\n           this.model.name =  this.content\n           this.UserUpdate()\n           this.content = ''\n       },\n       textareaClick() {\n           this.model.user_desc = this.content\n           this.UserUpdate()\n           this.content = ''\n       },\n       onSelect(data) {\n           this.model.gender = data.val\n           this.UserUpdate()\n           this.gendershow = false\n       }\n    },\n    created(){\n        this.selectUser()\n    }\n}\n</script>\n\n<style scoped lang=\"less\">\n.editViews a{\n    color: #333;\n}\n.editViews img{\n    height: 12.778vw;\n    width: 12.778vw;\n    border-radius: 50%;\n}\n.uploadfile{\n    overflow: hidden;\n    position: relative;\n    .uploadimg{\n        opacity: 0;\n        position: absolute;\n    }\n}\n.editback{\n    margin-top: 5.556vw;\n    background-color: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    color: #999;\n    padding: 4.167vw 0;\n    font-size: 4vw;\n}\n</style>"],"sourceRoot":"src/views"}]}