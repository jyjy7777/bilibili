{"remainingRequest":"D:\\BL\\vue-bilibili-master\\node_modules\\babel-loader\\lib\\index.js!D:\\BL\\vue-bilibili-master\\http.js","dependencies":[{"path":"D:\\BL\\vue-bilibili-master\\http.js","mtime":1593351739000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi9zcmMvcm91dGVyJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwp2YXIgaHR0cCA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJ2h0dHA6Ly8xMTIuNzQuOTkuNTozMDAwL3dlYi9hcGknCn0pOwpodHRwLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpKSB7CiAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKaHR0cC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHJldHVybiByZXNwb25zZTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEgfHwgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMikgewogICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgVnVlLnByb3RvdHlwZS4kbXNnLmZhaWwoZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICB9CgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBodHRwOw=="},{"version":3,"sources":["D:/BL/vue-bilibili-master/http.js"],"names":["axios","router","Vue","http","create","baseURL","interceptors","request","use","config","localStorage","getItem","headers","Authorization","error","Promise","reject","response","status","push","prototype","$msg","fail","data","message"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,IAAMC,IAAI,GAAGH,KAAK,CAACI,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAC;AADc,CAAb,CAAb;AAKAF,IAAI,CAACG,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,UAAUC,MAAV,EAAkB;AAC5C,MAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiCD,YAAY,CAACC,OAAb,CAAqB,IAArB,CAApC,EAA+D;AAC3DF,IAAAA,MAAM,CAACG,OAAP,CAAeC,aAAf,GAA+B,YAAYH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA3C;AACH;;AACD,SAAOF,MAAP;AACD,CALH,EAKK,UAAUK,KAAV,EAAiB;AAClB,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAPH;AASAX,IAAI,CAACG,YAAL,CAAkBW,QAAlB,CAA2BT,GAA3B,CAA+B,UAAUS,QAAV,EAAoB;AAC/C,SAAOA,QAAP;AACD,CAFH,EAEK,UAAUH,KAAV,EAAiB;AACjB,MAAGA,KAAK,CAACG,QAAN,CAAeC,MAAf,IAAyB,GAAzB,IAAgCJ,KAAK,CAACG,QAAN,CAAeC,MAAf,IAAyB,GAA5D,EAAgE;AAC5DjB,IAAAA,MAAM,CAACkB,IAAP,CAAY,QAAZ;AACAjB,IAAAA,GAAG,CAACkB,SAAJ,CAAcC,IAAd,CAAmBC,IAAnB,CAAwBR,KAAK,CAACG,QAAN,CAAeM,IAAf,CAAoBC,OAA5C;AACH;;AACF,SAAOT,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CARH;AAWA,eAAeX,IAAf","sourcesContent":["import axios from 'axios'\nimport router from './src/router'\nimport Vue from 'vue'\nconst http = axios.create({\n    baseURL:'http://112.74.99.5:3000/web/api'\n})\n\n\nhttp.interceptors.request.use(function (config) {\n    if(localStorage.getItem('token') && localStorage.getItem('id')){\n        config.headers.Authorization = 'Bearer ' + localStorage.getItem('token')\n    }\n    return config;\n  }, function (error) {\n    return Promise.reject(error);\n  });\n \nhttp.interceptors.response.use(function (response) {\n    return response;\n  }, function (error) {\n     if(error.response.status == 401 || error.response.status == 402){\n         router.push('/login')\n         Vue.prototype.$msg.fail(error.response.data.message)\n     }\n    return Promise.reject(error);\n  });\n\n\nexport default http"]}]}