{"remainingRequest":"D:\\BL\\vue-bilibili-master\\node_modules\\babel-loader\\lib\\index.js!D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BL\\vue-bilibili-master\\src\\components\\article\\comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\BL\\vue-bilibili-master\\src\\components\\article\\comment.vue","mtime":1593351739000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\BL\\vue-bilibili-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXEJMXFx2dWUtYmlsaWJpbGktbWFzdGVyXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGNvbW1lbnRJdGVtIGZyb20gIi4vY29tbWVudEl0ZW0iOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbW1lbnRMaXN0OiBudWxsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgY29tbWVudEl0ZW06IGNvbW1lbnRJdGVtCiAgfSwKICBtZXRob2RzOiB7CiAgICBjb21tZW50RGF0YTogZnVuY3Rpb24gY29tbWVudERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAuZ2V0KCIvY29tbWVudC8iICsgX3RoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdsZW5ndGhzZWxlY3QnLCByZXMuZGF0YS5sZW5ndGgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLmNvbW1lbnRMaXN0ID0gX3RoaXMuY2hhbmdlQ29tbWVudERhdGEocmVzLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hhbmdlQ29tbWVudERhdGE6IGZ1bmN0aW9uIGNoYW5nZUNvbW1lbnREYXRhKGRhdGEpIHsKICAgICAgZnVuY3Rpb24gZm4odGVtcCkgewogICAgICAgIHZhciBhcnIxID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKGRhdGFbaV0ucGFyZW50X2lkID09IHRlbXApIHsKICAgICAgICAgICAgYXJyMS5wdXNoKGRhdGFbaV0pOwogICAgICAgICAgICBkYXRhW2ldLmNoaWxkID0gZm4oZGF0YVtpXS5jb21tZW50X2lkKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnIxOwogICAgICB9CgogICAgICByZXR1cm4gZm4obnVsbCk7CiAgICB9LAogICAgcHVibGlzaENsaWNrOiBmdW5jdGlvbiBwdWJsaXNoQ2xpY2soaWQpIHsKICAgICAgdGhpcy4kZW1pdCgncHVibGlzaENsaWNrJywgaWQpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuY29tbWVudERhdGEoKTsKICB9Cn07"},{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAA,WAAA,MAAA,eAAA;AACA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAPA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,cAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CADA;;AAAA;AACA,gBAAA,GADA;;AAEA,oBAAA,GAAA,CAAA,IAAA,EAAA;AACA,kBAAA,KAAA,CAAA,KAAA,CAAA,cAAA,EAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA;;AACA,gBAAA,KAAA,CAAA,WAAA,GAAA,KAAA,CAAA,iBAAA,CAAA,GAAA,CAAA,IAAA,CAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAPA;AAQA,IAAA,iBARA,6BAQA,IARA,EAQA;AACA,eAAA,EAAA,CAAA,IAAA,EAAA;AACA,YAAA,IAAA,GAAA,EAAA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,cAAA,IAAA,CAAA,CAAA,CAAA,CAAA,SAAA,IAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,CAAA,CAAA,CAAA,CAAA,KAAA,GAAA,EAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA;AACA;AACA;;AACA,eAAA,IAAA;AACA;;AACA,aAAA,EAAA,CAAA,IAAA,CAAA;AACA,KApBA;AAqBA,IAAA,YArBA,wBAqBA,EArBA,EAqBA;AACA,WAAA,KAAA,CAAA,cAAA,EAAA,EAAA;AACA;AAvBA,GAVA;AAmCA,EAAA,OAnCA,qBAmCA;AACA,SAAA,WAAA;AACA;AArCA,CAAA","sourcesContent":["<template>\n  <div class=\"commentParent\">\n    <div v-for=\"(item,index) in commentList\" :key=\"index\">\n      <div class=\"commentItem\">\n        <div class=\"userImg\">\n          <img v-if=\"item.userinfo && item.userinfo.user_img\" :src=\"item.userinfo.user_img\" alt />\n          <img v-else src=\"@/assets/default_img.jpg\" alt=\"\">\n        </div>\n        <div class=\"commentContent\">\n          <p>\n            <span v-if=\"item.userinfo\">{{item.userinfo.name}}</span>\n            <span v-else>此用户无姓名</span>\n            <span>{{item.comment_date}}</span>\n          </p>\n          <div>\n            {{item.comment_content}}\n            <span class=\"publishs\" @click=\"publishClick(item.comment_id)\">回复</span>\n          </div>\n        </div>\n      </div>\n     <div style=\"padding-left:8.333vw;\"><comment-item @PostPublish=\"publishClick\" :commentChild=\"item.child\"></comment-item></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport commentItem from \"./commentItem\";\nexport default {\n    \n  data() {\n      return {\n          commentList:null,\n      }\n  },\n  components: {\n    commentItem\n  },\n  methods: {\n    async commentData() {\n      const res = await this.$http.get(\"/comment/\" + this.$route.params.id);\n      if(res.data){\n        this.$emit('lengthselect',res.data.length)\n      }\n      this.commentList = this.changeCommentData(res.data)\n    },\n    changeCommentData(data) {\n      function fn(temp) {\n        let arr1 = [];\n        for (var i = 0; i < data.length; i++) {\n          if (data[i].parent_id == temp) {\n            arr1.push(data[i]);\n            data[i].child = fn(data[i].comment_id);\n          }\n        }\n        return arr1;\n      }\n       return fn(null);\n    },\n    publishClick(id) {\n     this.$emit('publishClick',id)\n    }\n  },\n  created() {\n    this.commentData();\n  }\n};\n</script>\n\n<style lang=\"less\">\n.commentParent {\n  padding: 2.778vw 2.778vw;\n  > div {\n    border-bottom: 0.278vw solid #e7e7e7;\n  }\n  .commentItem {\n    display: flex;\n    margin: 2.778vw 0;\n    .userImg {\n      margin-right: 2.778vw;\n      img {\n        width: 9.722vw;\n        height: 9.722vw;\n      }\n    }\n    .commentContent {\n      flex: 1;\n      position: relative;\n      p {\n        font-size: 3.611vw;\n        color: #555;\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 1.389vw;\n      }\n      div {\n        font-size: 3.611vw;\n      }\n      .publishs{\n        position: absolute;\n        right: 0;\n        color: red;\n      }\n    }\n  }\n}\n</style>"],"sourceRoot":"src/components/article"}]}